<section class=" ">
    <div class="max-w-screen-xl mx-auto ">
        <div class="container mx-auto py-28 min-h-screen  flex justify-center items-center">
              
            <form class="shadow-2xl shadow-slate-500 bg-slate-200 p-3 w-10/12 lg:w-1/2 " [formGroup]="loginForm" (ngSubmit)="login()">
                <div class="my-5">
                    <label for="email" class=" capitalize font-bold">email:</label>
                    <input type="email" id="email" class="form-control mt-1" formControlName="email"
                    [ngClass]="{
                        'valid':!loginForm.get('email')?.errors  && (loginForm.get('email')?.touched ||  loginForm.get('email')?.dirty ),
                        'invalid':loginForm.get('email')?.errors  && (loginForm.get('email')?.touched ||  loginForm.get('email')?.dirty ) ,
                     }"
                    >
                    @if(loginForm.get('email')?.errors && loginForm.get('email')?.touched){
                        <div class="bg-red-400 text-lg p-2 rounded my-3 font-semibold shadow-lg">
                            @if(loginForm.get('email')?.getError('required')){<p>email must be required</p>}
                            @else if(loginForm.get('email')?.getError('email')){<p>email formate is not correct</p>}
                           
                        </div>
                    }
                    
                </div>

                <div class="my-5">
                    <label for="password" class=" capitalize font-bold">password:</label>
                    <input type="password" id="password" class="form-control mt-1" formControlName="password"
                    [ngClass]="{
                        'valid':!loginForm.get('password')?.errors  && (loginForm.get('password')?.touched ||  loginForm.get('password')?.dirty ),
                        'invalid':loginForm.get('password')?.errors  && (loginForm.get('password')?.touched ||  loginForm.get('password')?.dirty ) ,
                     }"
                    >
                    @if(loginForm.get('password')?.errors && loginForm.get('password')?.touched){
                        <div class="bg-red-400 text-lg p-2 rounded my-3 font-semibold shadow-lg">
                            @if(loginForm.get('password')?.getError('required')){<p>password must be required</p>}
                            @else if(loginForm.get('password')?.getError('pattern')){<p>password formate is not correct</p>}
                           
                        </div>
                    }
                    
                </div>

                @if (errorText) 
                {
                    <div class="my-4  w-full">
                        <p class="text-center w-full  md:w-1/2  font-bold text-lg rounded-lg bg-teal-500 mx-auto p-2 whitespace-nowrap">{{errorText}}</p>
                    </div>

                }

                <div class="flex justify-between">
                    <a [routerLink]="'/forgotPassword'" class="font-bold whitespace-nowrap text-green-600 cursor-pointer text-xl my-3 capitalize">forget password ?</a>
                    <button [disabled]="loginForm.invalid" type="submit" class="w-1/3 lg:w-1/2  p-2 shadow-2xl  cursor-pointer   rounded-lg text-lg block  text-black font-bold capitalize"
                    [ngClass]="{
                        'bg-green-500  hover:shadow-none': !loginForm.invalid, 
                        'bg-gray-300 ': loginForm.invalid
                    }" 
                    >login
                        @if (loading === true) {
                            <span><i class="fa-solid fa-circle-notch fa-spin"></i></span>
                        }
                    </button>
                </div>

            </form>
            
        </div>
    </div>
</section>